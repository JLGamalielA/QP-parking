/*! For license information please see income-chart.js.LICENSE.txt */
(()=>{function t(){var r,n,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.toStringTag||"@@toStringTag";function s(t,o,i,a){var s=o&&o.prototype instanceof u?o:u,l=Object.create(s.prototype);return e(l,"_invoke",function(t,e,o){var i,a,s,u=0,l=o||[],f=!1,p={p:0,n:0,v:r,a:d,f:d.bind(r,4),d:function(t,e){return i=t,a=0,s=r,p.n=e,c}};function d(t,e){for(a=t,s=e,n=0;!f&&u&&!o&&n<l.length;n++){var o,i=l[n],d=p.p,h=i[2];t>3?(o=h===e)&&(s=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=r):i[0]<=d&&((o=t<2&&d<i[1])?(a=0,p.v=e,p.n=i[1]):d<h&&(o=t<3||i[0]>e||e>h)&&(i[4]=t,i[5]=e,p.n=h,a=0))}if(o||t>1)return c;throw f=!0,e}return function(o,l,h){if(u>1)throw TypeError("Generator is already running");for(f&&1===l&&d(l,h),a=l,s=h;(n=a<2?r:s)||!f;){i||(a?a<3?(a>1&&(p.n=-1),d(a,s)):p.n=s:p.v=s);try{if(u=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,s)))throw TypeError("iterator result is not an object");if(!n.done)return n;s=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=r}else if((n=(f=p.n<0)?s:t.call(e,p))!==c)break}catch(t){i=r,a=1,s=t}finally{u=1}}return{value:n,done:f}}}(t,i,a),!0),l}var c={};function u(){}function l(){}function f(){}n=Object.getPrototypeOf;var p=[][i]?n(n([][i]())):(e(n={},i,function(){return this}),n),d=f.prototype=u.prototype=Object.create(p);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,e(t,a,"GeneratorFunction")),t.prototype=Object.create(d),t}return l.prototype=f,e(d,"constructor",f),e(f,"constructor",l),l.displayName="GeneratorFunction",e(f,a,"GeneratorFunction"),e(d),e(d,a,"Generator"),e(d,i,function(){return this}),e(d,"toString",function(){return"[object Generator]"}),(t=function(){return{w:s,m:h}})()}function e(t,r,n,o){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}e=function(t,r,n,o){function a(r,n){e(t,r,function(t){return this._invoke(r,n,t)})}r?i?i(t,r,{value:n,enumerable:!o,configurable:!o,writable:!o}):t[r]=n:(a("next",0),a("throw",1),a("return",2))},e(t,r,n,o)}function r(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}var n=null,o=function(){var e,o=(e=t().m(function e(r,o){var i,a,s,c,u,l;return t().w(function(t){for(;;)switch(t.p=t.n){case 0:if(n){t.n=1;break}return t.a(2);case 1:return t.p=1,t.n=2,fetch("".concat(o,"?period=").concat(r),{headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});case 2:if((i=t.v).ok){t.n=3;break}throw new Error("Network response was not ok");case 3:return t.n=4,i.json();case 4:return a=t.v,t.n=5,n.updateSeries(a.chart.series);case 5:return t.n=6,n.updateOptions({xaxis:{categories:a.chart.categories}});case 6:s=document.getElementById("card-income-value"),c=document.getElementById("card-entries-value"),u=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}),s&&(s.textContent=u.format(a.metrics.income)),c&&(c.textContent=a.metrics.entries),t.n=8;break;case 7:t.p=7,l=t.v,console.error("Error updating dashboard data:",l);case 8:return t.a(2)}},e,null,[[1,7]])}),function(){var t=this,n=arguments;return new Promise(function(o,i){var a=e.apply(t,n);function s(t){r(a,o,i,s,c,"next",t)}function c(t){r(a,o,i,s,c,"throw",t)}s(void 0)})});return function(t,e){return o.apply(this,arguments)}}();window.initIncomeChart=function(t){var e=document.getElementById("parking-income-chart");if(e&&"undefined"!=typeof ApexCharts){n&&n.destroy(),e.innerHTML="";var r={chart:{height:350,type:"line",fontFamily:"Nunito Sans, sans-serif",stacked:!1,toolbar:{show:!1},zoom:{enabled:!1},animations:{enabled:!0}},series:t.series,xaxis:{categories:t.categories,type:"category",labels:{style:{colors:"#9CA3AF",fontSize:"12px",fontFamily:"Nunito Sans, sans-serif"},rotate:-45,trim:!1},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{style:{colors:"#9CA3AF",fontSize:"12px",fontFamily:"Nunito Sans, sans-serif"},formatter:function(t){return"$"+parseFloat(t).toFixed(2)}}},colors:["#6B7280","#FF8832","#2361CE"],fill:{type:["gradient","gradient","solid"],gradient:{shadeIntensity:1,opacityFrom:.4,opacityTo:.1,stops:[0,90,100]}},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:[2,2,4],dashArray:[0,0,0]},grid:{borderColor:"#F2F4F6",strokeDashArray:4,yaxis:{lines:{show:!0}}},tooltip:{theme:"light",shared:!0,intersect:!1,y:{formatter:function(t){return"$"+parseFloat(t).toFixed(2)}}},legend:{show:!0,position:"top",horizontalAlign:"left",fontFamily:"Nunito Sans, sans-serif",fontSize:"13px",fontWeight:600,labels:{colors:"#4B5563",useSeriesColors:!1},markers:{width:12,height:12,strokeWidth:0,radius:12,offsetX:-2,offsetY:0},itemMargin:{horizontal:15,vertical:0},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}}};(n=new ApexCharts(e,r)).render()}},window.updateIncomeChart=o})();